---
import NavbarMenuLogo from './../../assets/icons/menu.svg';
---

<nav class="navbar" id="navbar">
  <h1 class="navbar-title">Flat For Sale</h1>
  <ul class="navbar-list" id="navbar-list">
    <li class="nav-list-link"><a href="#home">Home</a></li>
    <li class="nav-list-link"><a href="#detail">Details</a></li>
    <li class="nav-list-link"><a href="#gallery">Gallery</a></li>
    <li class="nav-list-link"><a href="#feature">Features</a></li>
    <li class="nav-list-link"><a href="#wsub">Why Should U Buy ?</a></li>
    <li class="nav-list-link"><a href="#contact">Contact</a></li>
  </ul>
  <button class="navbar-toggle-button" id="navbar-menu-button">
	<img class="navbar-toggle-button-image" src={NavbarMenuLogo} alt="Navbar Menu Button Logo">
  </button>
</nav>

<style scoped lang="scss">
	.navbar-toggle-button {
		background: none;
		outline: none;
		position: absolute;
    border: none;
		right: 20px;
		top: 8px;
    display: none;
		border-radius: 5px;
    cursor: pointer;
		&-image {
			max-width: 30px;
			max-height: 30px;
			object-fit: cover;
		}
	}
  .navbar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    position: fixed;
    top: 0;
    width: 100%;
    z-index: 15;
    padding: 10px;
    transition: background-color, 200ms ease-in;
  }
  .navbar-list {
    display: flex;
    list-style: none;
    width: 100%;
    align-items: center;
    justify-content: flex-end;
  }
  .navbar-title {
    width: 200px;
    font-family: "Montserrat", sans-serif;
    font-weight: lighter;
    color: var(--default-fg-color);
  }
  .navbar-bg {
    transition: background-color, 200ms ease-in;
    background-color: var(--default-bg-color);
  }
  li a {
    display: inline-block;
    text-decoration: none;
    color: white;
    padding: 10px;
    width: 100%;
    font-family: "montserrat";
    position: relative;
    transition: transform, 200ms ease-in-out;
    &:hover {
      transform: scale(1.1);
      transition: transform, 200ms ease-in-out;
    }
    &::after {
      transition: transform, 200ms ease-in;
      transform: scaleX(0px);
    }
    &:hover::after {
      content: "";
      display: block;
      width: 100%;
      height: 5px;
      position: absolute;
      bottom: 0;
      background-color: var(--accent-color);
      transform: scaleX(5px);
      transform-origin: left;
      border-radius: 20px;
      transition: transform, 200ms ease-in;
      left: 0;
    }
  }
  @media (max-width: 800px) {
    .navbar {
      align-items: flex-start;
      justify-content: flex-start;
      flex-direction: column;
    }
    .navbar-list {
      flex-direction: column;
      align-items: flex-end;
      justify-content: flex-end;
      position: relative;
      height: 225px;
      top: 10px;
      transition: transform, 300ms ease-in;
    }
    .navbar-toggle-button {
      display: block;
    }
  }
  .navbar-hide {
    // transform-origin: top;
    // transition: transform, 300ms ease-in;
    // transform: scaleY(0);
    height: 0px;
    transition: height, 300ms ease-in;
    overflow-y: hidden;
  }

</style>
<script>
  const navbar : any = document.getElementById("navbar");
  const navList : any = document.getElementById("navbar-list");
  const navBtn = document.getElementById("navbar-menu-button")
  navBtn.onclick = () => {
    navList.classList.toggle("navbar-hide");
    setTimeout(() => {
      if(navList.classList.contains("navbar-hide")) {
        navList.classList.add("no-display");
      }
      else {
        navList.classList.remove("no-display");
      }
      
    }, 300)
    
  }
  window.onscroll = () => {
        if (window.scrollY > 50) {
            navbar.classList.add("navbar-bg");
        } else {
            navbar.classList.remove("navbar-bg");
        }
  }
  window.onload = () => {
    if(window.innerWidth < 800) {
      navList.classList.add("navbar-hide")
    }
    else {
      navList.classList.remove("navbar-hide")
    }
  }
  window.onresize = () => {
    if(window.innerWidth < 800) {
      navList.classList.add("navbar-hide")
    }
    else {
      navList.classList.remove("navbar-hide")
    }
  }
</script>